{% extends 'FuzAppBundle::layout.html.twig' %}

{% block extra_js %}
    <script src="{{ asset('bundles/fuzapp/js/collection/jquery.collection.js') }}"></script>
{% endblock %}

{% block title %}JavaScript options : put only one "add" button at the bottom{% endblock %}

{% block body %}

    <h2>{{ block('title') }}</h2>

    <p>Use <code>add_at_the_end</code> option set to <code>false</code> (default) to create an <code>add</code> for each element of the collection.</p>

    <p>Use <code>add_at_the_end</code> option set to <code>true</code> if you want to have only one <code>add</code> button, located below the collection.</p>

    {{
        github([
            'Controller/OptionsController.php',
            'Resources/views/Options/addButtonAtTheBottom.html.twig',
        ])
    }}

    <div class="row">

        {# Option add_at_the_end disabled #}
        <div class="col-md-6">
            <h3>With the option set to <code>false</code></h3>

            <p>
                This is the default behaviour, an <code>add</code> button is added for each element of the collection.
            </p>

            {% form_theme disabled 'FuzAppBundle::jquery.collection.html.twig' %}
            {{ form(disabled) }}

            {% for value in disabledData.values %}
                <p>Value : {{ value }}</p>
            {% endfor %}

        </div>

        {# Option add_at_the_end enabled #}
        <div class="col-md-6">
            <h3>With the option set to <code>true</code></h3>

            <p>
                Only one <code>add</code> button is available, located at the bottom of the collection.
            </p>

            {% form_theme enabled 'FuzAppBundle::jquery.collection.html.twig' %}
            {{ form(enabled) }}

            {% for value in enabledData.values %}
                <p>Value : {{ value }}</p>
            {% endfor %}

        </div>

        {# Option add_at_the_end enabled and add button custom location #}
        <div class="col-md-6">
            <h3>Add button's custom location</h3>

            <p>
                Only one <code>add</code> button is available, located at the bottom of the collection.
            </p>

            {% form_theme customlocation 'FuzAppBundle::jquery.collection.html.twig' %}

            {{ form(customlocation) }}

            {% for value in customlocationData.values %}
                <p>Value : {{ value }}</p>
            {% endfor %}

            My add button will appear here:
            <div class="my-add-button"></div>
        </div>
    </div>

    </div>

    <hr/>

    <p>Code used:</p>
    <pre>{{ block('script') | e }}</pre>

{% endblock %}

{% block script %}

    <script type="text/javascript">

        $('.disabled-collection').collection();

        $('.enabled-collection').collection({
            add_at_the_end: true
        });

        $('.customlocation-collection').collection({
            add_container: '.my-add-button'
        });

    </script>

{% endblock %}
